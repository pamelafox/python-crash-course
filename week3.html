<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Week 3 Lecture</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/dist/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.2.1/dist/theme/simple.css" id="theme">
    <link rel="stylesheet" href="https://cs61a.org/assets/css/mono-blue.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <style>
    :root {
      --r-heading-font: "Roboto", sans-serif;
      --r-heading-color: #0072c1;

      --r-main-font: "Work Sans", sans-serif;

      --r-link-color: #0066cc;
      --r-link-color-hover: #0066cc;
    }

    .reveal .controls {
      color: var(--r-main-color);
    }

    .reveal .progress {
      color: var(--r-main-color);
    }

    .reveal .slides section {
      text-align: left;
      font-size: smaller;
    }

    .reveal pre {
      background-color: #f5f5f5;
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-shadow: none;
    }

    .reveal h3 {
      margin-bottom: 40px;
    }

    .reveal section.heading-only {
      text-align:center;
      padding-top:20%;
    }

    .no-code-badge .code-badge {
        display: none;
    }

    .code-badge-language {
        display: none;
    }

    .python-tutor-link {
      font-size: smaller;
    }

    .python-tutor-link:before {
      content: "";
      display: block;
      background: url("http://pythontutor.com/favicon.ico") no-repeat;
      width: 48px;
      height: 48px;
      float: left;
      margin: 0 6px 0 0;
    }

    .smaller {
      font-size: smaller;
    }

    code {
      padding: 2px 4px;
      font-size: 90%;
      color: #0072c1;
      background-color: #f9f2f4;
      border-radius: 4px;
    }

    p.padded {
      margin-top: 32px;
    }

    section .row {
      display: flex;
    }

    section .column {
      flex: 48%;
      margin: 10px;
    }

    @media print {
      .no-print, .no-print * {
        display: none !important;
      }
    }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section class="heading-only" style="padding-top:5%">
          <h1>Strings &amp; Dictionaries
          </h1>

          <div class="no-print" style="text-align: left; margin-top: 100px; font-size: 70%;">
            Tips for navigating the slides:
            <ul>
              <li>Press O or Escape for overview mode.</li>
              <li>Visit <a href="?print-pdf" target="_blank">this link</a> for a nice printable version</li>
              <li>Press the copy icon on the upper right of code blocks to copy the code</li>
            </ul>
          </div>
        </section>

        <section class="heading-only">
            <h2>String formatting</h2>
        </section>

        <section>
            <h3>String concatenation</h3>

            <p>So far, we've been using the + operator for combining string literals
                with the results of expressions.</p>

            <pre style="font-size:0.7em"><code data-trim data-noescape class="python">
            artist = "Lil Nas X"
            song = "Industry Baby"
            place = 2

            print("Debuting at #" + str(place) + ": '" + song + "' by " + artist)
            </code></pre>

            <p>But that's not ideal:</p>
            <ul>
                <li>Easy to bungle up the + signs
                <li>Hard to grok what the final string will be
                <li>Requires explicitly <code>str()</code>ing non-strings
            </ul>
        </section>

        <section>
            <h3>String interpolation</h3>

            <p><strong>String interpolation</strong> is the process of combining string literals
                with the results of expressions.</p>

            <p>Available since Python 3.5, <strong>f strings</strong> (formatted string literals)
            are the best way to do string interpolation.</p>

            <p>Just put an <code>f</code> in front of the quotes and then
            put any valid Python expression in curly brackets inside:</p>

            <pre style="font-size:0.7em"><code data-trim data-noescape class="python">
            artist = "Lil Nas X"
            song = "Industry Baby"
            place = 2

            print(f"Debuting at #{place}: '{song}' by {artist}")
            </code></pre>

            <p>üòçüòçüòçüòçüòçüòç</p>
        </section>


        <section class="heading-only">
          <h2>String operations</h2>
        </section>

        <section>
          <h3>Strings as sequences</h3>

          <p>Strings and lists are both considered <strong>sequences</strong> in Python.
            so both support <a href="https://docs.python.org/3/library/stdtypes.html#typesseq-common" target="_blank">standard sequence operations</a>,
            like <code>+</code>, <code>*</code>, <code>in</code>, and bracket notation.
          </p>

          <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
          title = 'The Parable of the Sower'
          author = 'Octavia E. Butler'

          full = title + ' By ' + author
          contains_parable = 'Parable' in title
          chant = 'We want more ' + (author + ',') * 3 + '!'
          initials = author[0] + author[8] + author[11]
          title_length = len(title)
          </code></pre>
          <br>
          <p class="fragment">However: strings are <strong>immutable</strong>. <br>Once created, they can't be changed.</p>
        </section>

        <section>
          <h3>Bracket notation with strings</h3>

          <p>Bracket notation can be used to either access individual characters or to make "slices".</p>

          <pre style="font-size:0.8em; margin-bottom:36px;"><code data-trim data-noescape class="python">
          adjective = 'superduper'

          adjective[0]   # 's'
          adjective[-1]  # 'r'

          adjective[0:5] # 'super'
          adjective[5:]  # 'duper'
          </code></pre>

          <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
          illness = 'pneumonoultramicroscopicsilicovolcanoconiosis'
          true_start_sound = illness[1]
          how_small = illness[13:24]
          from_where = illness[30:37]
          </code></pre>
      </section>

      <section>
          <h3>Splitting strings</h3>

          <p>The string <code>split()</code> method turns a string into a list of strings,
          by splitting at the specified delimiter.</p>

          <pre style="font-size:0.9em; margin-bottom:36px;"><code data-trim data-noescape class="python">
          my_groceries = 'apples,bananas,carrots'
          grocery_items = my_groceries.split(',')

          for item in grocery_items:
              print(item)
          </code></pre>

          <p><a href="https://docs.python.org/3/library/stdtypes.html#str.split">Python documentation: str.split</a></p>

      </section>

      <section>
          <h3>Joining strings</h3>

          <p>The string <code>join()</code> method
          returns a string which is the concatenation of the strings in an iterable.</p>

          <pre style="font-size:0.8em"><code data-trim data-noescape class="python">
          names = ["Gray", "Fox"]
          print("".join(names))

          address_parts = ["123 Pining St", "Nibbsville", "OH"]
          print(",".join(address_parts))

          poem_lines = ["Forgive me", "they were delicious", "so sweet", "and so cold"]
          print("\n".join(poem_lines))
          </code></pre>

          <p><a href="https://docs.python.org/3/library/stdtypes.html#str.join">Python documentation: str.join</a></p>

        </section>


        <section>
            <h3>More string methods</h3>

            <p>Python offers many <a href="https://docs.python.org/3/library/stdtypes.html#string-methods" target="_blank">string methods</a>. A few more:</p>

            <table style="font-size:0.65em">
                <thead>
                    <tr>
                        <th>Method
                        <th>Description
                </thead>
                <tbody>
                    <tr>
                        <td><a href="https://docs.python.org/3/library/stdtypes.html#str.replace" target="_blank"><code>str.replace(old, new)</code></a>
                        <td>Returns a new string where occurrences of <code>old</code> are replaced with <code>new</code>.
                    <tr>
                        <td><a href="https://docs.python.org/3/library/stdtypes.html#str.find" target="_blank"><code>str.find(substring)</code></a>
                        <td>Returns the lowest index in the string where <code>substring</code> is found.
                    <tr>
                        <td><a href="https://docs.python.org/3/library/stdtypes.html#str.startswith" target="_blank"><code>str.startswith(prefix)</code></a>
                        <td>Returns <code>True</code> if the string starts with the <code>prefix</code>, and <code>False</code> otherwise.
                    <tr>
                        <td><a href="https://docs.python.org/3/library/stdtypes.html#str.endswith" target="_blank"><code>str.endswith(suffix)</code></a>
                        <td>Returns <code>True</code> if the strings ends with the <code>prefix</code>, and <code>False</code> otherwise.
                    <tr>
                        <td><a href="https://docs.python.org/3/library/stdtypes.html#str.strip" target="_blank"><code>str.strip([chars])</code></a>
                        <td>Returns a copy of the string with leading and trailing characters removed, defaulting to whitespace characters.
                    <tr>
                        <td><a href="https://docs.python.org/3/library/stdtypes.html#str.lower" target="_blank"><code>str.lower()</code></a>
                        <td>Returns a copy of the string with all characters converted to lowercase.

            </table>
           </section>



           <section class="heading-only">
            <h2>Dictionaries</h2>
          </section>

          <section>
            <h3>Dictionaries</h3>
            <p>A <code>dict</code> is a mutable mapping of key-value pairs</p>
            <pre><code data-trim data-noescape>
            states = {
              "CA": "California",
              "DE": "Delaware",
              "NY": "New York",
              "TX": "Texas",
              "WY": "Wyoming"
            }
            </code></pre>
            <p>Queries:</p>
            <pre><code data-trim data-noescape>
            >>> len(states)
            <span class="fragment">5</span>
            </code></pre>
            <pre><code data-trim data-noescape>
            >>> "CA" in states
            <span class="fragment">True</span>
            </code></pre>
            <pre><code data-trim data-noescape>
            >>> "ZZ" in states
            <span class="fragment">False</span>
            </code></pre>
            <aside class="notes">
            How many keys do you count?
            How many values?
            </aside>
          </section>

          <section>
            <h3>Dictionary selection</h3>
            <pre><code data-trim data-noescape>
            words = {
              "m√°s": "more",
              "otro": "other",
              "agua": "water"
            }
            </code></pre>
            <p>Select a value:</p>
            <pre><code data-trim data-noescape>
            >>> words["otro"]
            <span class="fragment">'other'</span>
            </code></pre>
            <pre><code data-trim data-noescape>
            >>> first_word = "agua"
            >>> words[first_word]
            <span class="fragment">'water'</span>
            </code></pre>
            <pre><code data-trim data-noescape>
            >>> words["pavo"]
            <span class="fragment">KeyError: pavo</span>
            </code></pre>
            <pre><code data-trim data-noescape>
            >>> words.get("pavo", "ü§î")
            <span class="fragment">'ü§î'</span>
            </code></pre>
          </section>

          <section>
            <h3>Dictionary mutation</h3>
            <p>Create an empty dict:</p>
            <pre><code data-trim data-noescape>
            users = {}
            </code></pre>
            <p>Add values:</p>
            <pre><code data-trim data-noescape>
            users["profpamela"] = "b3stp@ssEvErDontHackMe"
            </code></pre>
            <p>Change values:</p>
            <pre><code data-trim data-noescape>
            users["profpamela"] += "itsLongerSoItsMoreSecure!!"
            </code></pre>
            <pre><code data-trim data-noescape>
            >>> users["profpamela"]
            <span class="fragment">'b3stp@ssEvErDontHackMeitsLongerSoItsMoreSecure!!'</span>
            </code></pre>
          </section>

          <section>
            <h3>Dictionary rules</h3>
            <ul>
              <li>A key <strong>cannot</strong> be a list or dictionary (or any mutable type)</li>
              <li>All keys in a dictionary are distinct (there can only be one value per key)</li>
              <li>The values can be any type, however!</li>
            </ul>
            <pre><code data-trim data-noescape>
            spiders = {
              "smeringopus": {
                "name": "Pale Daddy Long-leg",
                "length": 7
              },
              "holocnemus pluchei": {
                "name": "Marbled cellar spider",
                "length": (5, 7)
              }
            }
            </code></pre>
            <aside class="notes">
              Show what happens if a dictionary has two keys that are the same

              Access way inside the dictionary!
              Its all mutable, so we can mutate all of it!
            </aside>
          </section>

          <section>
            <h3>Dictionary iteration</h3>
            <pre><code data-trim data-noescape>
            insects = {"spiders": 8, "centipedes": 100, "bees": 6}
            for name in insects:
                print(insects[name])
            </code></pre>
            <p style="font-size:smaller;">...is the same as:</p>
            <pre><code data-trim data-noescape>
            for name in list(insects):
                print(insects[name])
            </code></pre>
            <p style="font-size:smaller;">What will be the order of items?</p>
            <pre class="fragment" data-fragment-index="1"><code data-trim data-noescape>
            8 100 6
            </code></pre>
            <p class="fragment" data-fragment-index="1"  style="font-size:smaller;">Keys are iterated over in the order they are first added.</p>
            <aside class="notes">
              <ul>
              <li>Python 2: The iteration could go in any order. Dictionaries were unordered.</li>
              <li>Python 3.0: The iteration would go in order of key insertion, but that is not to be relied upon.</li>
              <li>Python 3.7+: The insertion sort order is considered a part of the language, so dictionaries are ordered.</li>
              </ul>
              <p>Show example like:
              d[3] = 3; d[1] = 2; print(d); d[3] = 4; print(d)
            </p>
            </aside>
          </section>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.1.0/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.1.0/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlightjs-badge@0.1.9/highlightjs-badge.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js-menu@2.1.0/menu.js"></script>
    <script>
        const srcUrlPrefix = "https://cdn.jsdelivr.net/npm/reveal.js@4.1.0/";
        Reveal.initialize({
            hash: true,
            center: false,
            slideNumber: true,
            showNotes: false,
            margin: 0.1,
            preloadIframes: true,
            plugins: [ RevealHighlight, RevealMenu ],
            transition: "none"
        });

        // add HighlightJS-badge (options are optional)
        var options = {
            copyIconContent: "üìÑ",
            checkIconContent: "‚úÖ"
        };
        window.highlightJsBadge();

        if (window.location.search == "?print-pdf") {
            var uncounted = document.querySelectorAll("[data-visibility='uncounted']");
            uncounted.forEach(node => {
                node.parentNode.classList.add("no-print")
            })
        }

    </script>
    </body>
</html>
